---
title: 琐碎知识点笔记
date: 2017-11-12 20:01:00
tags: leetcode
---

本篇用来记录刷题过程中遇到的琐碎知识点，通常看起来比较简单，并没有什么通用的算法来解决，而是归纳规律之类。

#### 矩阵旋转问题

不管是转几个圈儿多少度，本质上就是顺时针转和逆时针转，有如下规律：

**顺时针旋转90°**：先把行逆序，然后做对称。`matrix.reverse(); swap(matrix[i][j], matrix[j][i]);`

**逆时针旋转90°**：先把列逆序，然后做对称。

Leetcode题目：48

#### 原码、反码、补码、BCD码、格雷码

二进制的最高位表示这个二进制的正负符号（0为正，1为负），其余各位数表示其数值本身称为原码。

正数的反码等于原码，负数的反码是在原码的基础上，符号位不变，其余各位取反。

正数的补码等于原码，负数的补码是在原码的基础上，符号位不变，其余各位取反，最后加一。为什么是取反加1呢？可以这么想，为了区分正负数，我们用第一位表示正负号，为了让 x + (-x) = 0，设计了补码（x 和 -x补码加起来正好是0）

BCD码：用4位二进制数来表示1位十进制中的0~9这10个数，简称BCD码。

格雷码(又叫循环二进制码或反射二进制码)：是一种无权码，采用绝对编码方式，属于可靠性编码，是一种错误最小化的编码方式。其转换方式为：

​	二进制码 To 格雷码（编码）：从最右边一位起，依次将每一位与左边一位异或(XOR)，作为对应格雷码该位的值，最左边一位不变(相当于左边是0)
​	格雷码 To 二进制码（解码）：从左边第二位起，将每位与左边一位解码后的值异或，作为该位解码后的值（最左边一位依然不变）

Leetcode题目：89

#### 一道有毒的题目 — Leetcode 134

已知：数组 gas[i] 表示在 i 处可以加油的数量。数组 cost[i] 表示从 i 到 i+1 消耗的油量。

求：是否存在一个点，使得从该点出发再从数组头回到这个点可以成立

分析：最容易想到的方法就是遍历，时间复杂度为 n个点每个点都走n的长度所以是 n^2。因为看到了这种从 i 到 j 求最终值的问题，并且每一步可以依靠上一步的结果进行进一步的计算，于是智障的我就想用动态规划，然而算dp数组算了半个下午也没做出来。一看到答案懵逼了，果然是比着葫芦画瓢难得算法精髓啊哭

学习了Discuss的方法，其实还是对问题的分析能力太浅，尤其是碰到数字之类的...本身我对这些数字就不敏感，只能看出来一半。比如如果从A不能到B（B是第一个A到不了的地方），那么说明A到B之间的所有站都到不了B。

还有一个隐藏条件没看出来的就是，如果 gas 的和大于 cost 的和，那么必定有一个解可以实现题目的要求。这个想想的话也不难，因为gas的和如果大于cost，那么肯定存在一个点，使得这个点处积累的汽油量足以让它走过油不足的地方。否则的话反证一下 gas的和不会大于cost...

因此只需要一轮遍历我们就可以得出这个点是否存在，并且存在于哪里：

```python
class Solution(object):
    def canCompleteCircuit(self, gas, cost):
        """
        :type gas: List[int]
        :type cost: List[int]
        :rtype: int
        """
        total = 0
        redundant = 0
        start = 0
        for i in range(len(gas)):
            redundant += gas[i] - cost[i]
            if redundant < 0:
                start = i + 1
                total += redundant
                redundant = 0
        
        return start if total + redundant >= 0 else -1
```

没错，代码就这几行…好吧，我感到自己的智商受到了侮辱...T.T

#### Leetcode 136 Single Number

Given an array of integers, every element appears *twice* except for one. Find that single one.

要求：线性时间复杂度、不借助额外空间

解决方法：位运算。利用异或的特性获得单独的那个数字

```python
class Solution(object):
    def singleNumber(self, nums):
        """
        :type nums: List[int]
        :rtype: int
        """
        target = 0
        for item in nums:
            target ^= item
        
        return target
```

